Setting|Type|Default|Description
<code>kubesvc.cache.cacheStreamingPoolCoreSize</code><br><code>kubesvc.cache.cacheStreamingPoolMaxSize</code>|integer|10/100|Thread pool sizing to write to cache. Each thread handles events for a single account at a time. It doesn't need to be greater than the number of agents. More threads means faster response. If Kubernetes accounts are very busy, you can set max size to <code>number of Kubernetes accounts / number of Clouddriver instances</code>.
<code>kubesvc.cache.onDemandQuickWaitMs</code>|integer|10000|How long to wait for a recache operation.
<code>kubesvc.cache.operationWaitMs</code>|integer|30000|How long to wait for a Kubernetes operation like deploy, scale, delete, or others
<code>kubesvc.cache.eventsCleanupFrequencySeconds</code>|integer|7200 (2h)|How long to keep Kubernetes events cached for.
<code>kubesvc.cache.accountCleanupFrequencySeconds</code>|integer|600 (10m)|How long to keep accounts that are no longer connected to any Agent
<code>kubesvc.cache.cleanDataWithUnusedAccounts</code>|boolean|true|When cleaning an old account, also clean its associated data
<code>kubesvc.cluster</code>|string|none|Type of clustering.<br><code>local</code>: for development only; don’t try to coordinate with other Clouddriver instances<br><code>redis</code>: use Redis to coordinate via pubsub. Redis will be deprecated in a future release.<br><span class='badge badge-primary'>0.10.24+</span><span class='badge badge-primary'>0.9.40</span><span class='badge badge-primary'>0.8.48</span> <code>kubernetes</code>:(Recommended) Requires additional <code>cluster-kubernetes</connected> configuration.
<code>kubesvc.cluster-kubernetes.kubeconfigFile</code><br><code>kubesvc.cluster-kubernetes.verifySsl</code><br><code>kubesvc.cluster-kubernetes.namespace</code><br><code>kubesvc.cluster-kubernetes.httpPortName</code><br><code>kubesvc.cluster-kubernetes.clouddriverServiceNamePrefix</code>|string<br>boolean<br>string<br>string<br>string<br>|null<br>true<br>null<br>http<br>spin-clouddriver|(Optional) If configured, the plugin uses this file to discover Endpoints. If not configured, it will use the service account mounted to the pod.<br>(Optional) Whether to verify the Kubernetes API cert or not.<br>(Optional) If configured, the plugin watches Endpoints in this namespace. If null, it watches endpoints in the namespace indicated in the file <code>/var/run/secrets/kubernetes.io/serviceaccount/namespace</code><br>(Optional) Name of the port configured in clouddriver Service that forwards traffic to clouddriver http port for REST requests.<br>(Optional) Name prefix of the Kubernetes Service pointing to the Clouddriver standard HTTP port.  
<code>kubesvc.credentials.poller.reloadFrequencyMs</code>|long|30000|<span class='badge badge-primary'>2.23.0+</span> <span class='badge badge-primary'>1.23.0+</span> How often the plugin will refresh account credentials to clouddriver in case <code>credentials.poller.enabled</code> is disabled. Otherwise the standard properties of <code>credentials.poller.enabled</code> and <code>credentials.poller.types.kubernetes.reloadFrequencyMs</code> are respected
<code>kubesvc.disableV2Provider</code>|boolean|false|If you don’t need the V2 provider account, set that to true to speed up caching deserialization.
<code>kubesvc.grpc.auth.x509.enabled</code>|boolean|false|Enable x509 subject filtering
<code>kubesvc.grpc.auth.x509.filters</code>|list(string)|<code>[]</code>|x509 subject line filter; see <a href='https://docs.armory.io/docs/armory-agent/agent-mtls/#x509-certificate-subject-filtering' target='new'>x509 Certificate Subject Filtering</a>
<code>kubesvc.grpc.server.address</code>|string|<code>*</code>|Address to bind the gRPC server to
<code>kubesvc.grpc.server.port</code>|int|<code>9091</code>|Port to bind the gRPC server to
<code>kubesvc.grpc.server.healthServiceEnabled</code>|boolean|<code>true</code>|Enable gRPC healthcheck service
<code>kubesvc.grpc.server.maxInboundMessageSize</code>|data size|<code>4MB</code>|Maximum size of a gRPC message. It should be at least as big as the biggest Kubernetes object manifest you can expect.
<code>kubesvc.grpc.server.security.enabled</code>|boolean|<code>false</code>|Enable transport level security
<code>kubesvc.grpc.server.security.certificateChain</code>|string|none|Reference to the server's certificate chain.
<code>kubesvc.grpc.server.security.privateKey</code>|string|none|Reference to the private key of the server.
<code>kubesvc.grpc.server.security.privateKeyPassword</code>|string|none|Reference to private key password if password protected. You can use <a href='https://docs.armory.io/docs/armory-admin/secrets/' target='new'>secret management</a> to store the password.
<code>kubesvc.grpc.server.security.clientAuth</code>|string|<code>NONE</code>|<code>NONE</code>: no client certificate verification, <code>OPTIONAL</code>: verify client certificates if presented, <code>REQUIRE</code>: require client to present certificates and verify it
<code>kubesvc.grpc.server.security.ciphers</code>|list(string)|<code>[]</code>|By default, use the systems default ciphers.
<code>kubesvc.grpc.server.security.trustCertCollection</code>|string|none|By default, use the systems default truststore (cacerts). Otherwise, reference to a truststore to validate clients.
<code>kubesvc.grpc.server.security.protocols</code>|string|none|By default, use the systems default protocols. Otherwise, list of protocols accepted (<code>TLSv1.1<code>, <code>TLSv1.2</code>, etc.
<code>kubesvc.grpc.server.security.keepAliveHeartbeatSeconds</code>|int|none|how often should send keepalive grpc pings to client
<code>kubesvc.grpc.server.security.KeepAliveTimeOutSeconds</code>|int|none|How long to wait for a response after a keepalive before closing the connection
<code>kubesvc.heartbeat.initialDelay</code><br><code>kubesvc.heartbeat.period</code><br><code>kubesvc.heartbeat.periodUnit</code>|long<br>long<br>timeUnit|0<br>30<br>SECONDS|How often each Clouddriver node reports its assingments as recent. Set the heartbeat period to a value less than <code>kubesvc.cache.accountCleanupFrequencySeconds</code> to prevent losing account cache.
<code>kubesvc.jobs.operation-history.purge.weeks</code>|integer|1|<span class='badge badge-primary'>0.10.3+</span><span class='badge badge-primary'>0.9.32</span><span class='badge badge-primary'>0.8.40</span>(Optional) The number of weeks to retain information on the databse table <code>kubesvc_ops_history</code>.
<code>kubesvc.jobs.operation-history.purge.cron</code>|Spring cron expression|0 0 0 * * 0|<span class='badge badge-primary'>0.10.3+</span><span class='badge badge-primary'>0.9.32</span><span class='badge badge-primary'>0.8.40</span>(Optional) How often to run the cleanup logic.
<code>kubesvc.loadBalancer</code>|string|none|Pick a different account load balancing algorithm. Only implementation so far is the “MN algorithm” that does hides Agent connections from other clouddriver instances and assigns account to the least busy connected Clouddriver while never unassigning an account from a still connected instance unless it dies or stops being connected to that account.
<code>kubesvc.runtime.defaults.onlySpinnakerManaged</code>|boolean|false|Same meaning as V2 provider. Should Spinnaker cache manifests that are not deployed by Spinnaker?
<code>kubesvc.runtime.defaults.customResources[].kubernetesKind</code><br><code>kubesvc.runtime.defaults.customResources[].spinnakerKind</code><br><code>kubesvc.runtime.defaults.customResources[].deployPriority</code><br><code>kubesvc.runtime.defaults.customResources[].versioned</code><br><code>kubesvc.runtime.defaults.customResources[].namespaced</code>|string<br>string<br>number as string (“100”)<br>boolean<br>boolean|none<br>none<br>“100”<br>false<br>false|Same meaning as V2 provider. Customize behavior of Spinnaker for an unknown (to Spinnaker) resource.<br><br>- <code>kubernetesKind</code> in the format <code><kind>.<api group></code><br>- <code>spinnakerKind</code> is one of the Spinnaker kinds<br>- <code>deployPriority</code> will determine in which order Spinnaker will deploy a resource if multiple manifests are to be deployed in an operation.<br>- <code>versioned</code> should Spinnaker version new resource or just update them?<br>- <code>namespaced</code> is barely used with kubesvc.
<code>kubesvc.runtime.accounts[string].onlySpinnakerManaged</code><br><code>kubesvc.runtime.accounts[string].customResources[]…</code>|||Same as above but per account. This takes priority over default runtime settings. Default values are used if not populated for the account.<br><br>Format is a map (account name → props), e.g.<br>kubesvc.runtime.accounts:<br>   prod:<br>     onlySpinnakerManaged: true
<code>kubesvc.v2-cache-eviction.disable</code>|boolean| |<span class='badge badge-primary'>0.10.3+</span> Set this to <code>true</code> if you want to turn off the eviction of the V2 cache.
<code>kubesvc.v2-cache-eviction.batch-size</code>|integer|5|<span class='badge badge-primary'>0.10.3+</span> How many Kubernetes kinds to evict for each eviction event. 
<code>kubesvc.v2-cache-eviction.millis</code>|integer|200|<span class='badge badge-primary'>0.10.3+</span> The time between evictions in milliseconds. Using a low value can lead to a spike in resource usage when migration occurs.