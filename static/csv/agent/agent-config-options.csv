Settings|Type|Default|Description
<code>clouddriver.auth.token</code>|string|none|<span class='badge badge-primary'>0.3.0+</span> Optional bearer token added to each request back to the endpoint.
<code>clouddriver.auth.tokenCommand.command</code><br><code>clouddriver.auth.tokenCommand.args</code><br><code>clouddriver.auth.tokenCommand.format</code><br><code>clouddriver.auth.tokenCommand.refreshIntervalSeconds</code>|string<br>[]string<br>string<br>integer|none<br>none<br>[]<br>0|<span class='badge badge-primary'>0.3.0+</span> Allows to invoke a command every <code>refreshIntervalSeconds</code> seconds that outputs either the token (<code>format</code> is <code>raw</code>) or a JSON object with an attribute of <code>token</code> if <code>format</code> is <code>json</code> or left empty. <code>args</code> is the optional list of parameters to the command.
<code>clouddriver.grpc</code>|string (hostname)|<code>spin-clouddriver-grpc:9091</code>|Hostname of the Clouddriver or gRPC proxy endpoint.
<code>clouddriver.keepAliveHeartbeatSeconds</code>|integer|none|<span class='badge badge-primary'>0.6.9+</span>Optional. How often the gPRC keep alive message is sent.<br>- Not set: (default) sent every 60 seconds.<br>- 0: not sent.<br>- Any <code>n</code> value greater than 0: sent every <code>n</code> seconds. 
<code>clouddriver.keepAliveTimeOutSeconds</code>|integer|none|Timeout before closing the grpc connection.
<code>clouddriver.insecure</code>|boolean|true|Set to false, if you are connecting to a TLS server.
<code>clouddriver.noProxy</code>|boolean|false|<span class='badge badge-primary'>0.3.1+</span> Ignore the <code>HTTP_PROXY</code>, <code>HTTPS_PROXY</code>, and <code>NO_PROXY</code> environment variables when connecting back to the control plane (Armory Enterprise).
<code>clouddriver.responseRetries.enabled</code><br><code>clouddriver.responseRetries.maxRetries</code><br><code>clouddriver.responseRetries.backOffMs</code><br>|boolean<br>integer<br>integer|true<br>3<br>3000<br>|<span class='badge badge-primary'>0.6.7+</span>Enables or disables retries.<br><span class='badge badge-primary'>0.6.7+</span>How many times to retry sending the response to Clouddriver.<br><span class='badge badge-primary'>0.6.7+</span>How much time to wait between retries in milliseconds.<br>Note that Agent Plugin config option <code>kubesvc.cache.operationWaitMs</code> should be set so that it does not time out before the retries are complete.
<code>clouddriver.tls.serverName</code>|string|none|Server name on the remote certificate (override from the hostname).
<code>clouddriver.tls.insecureSkipVerify</code>|boolean|false|Do not verify the endpoint's certificate.
<code>clouddriver.tls.clientCertFile</code><br><code>clouddriver.tls.clientKeyFile</code><br><code>clouddriver.tls.clientKeyFilePassword</code>|string<br>string<br>string|none<br>none<br>none|Client certificate file for mTLS.<br>Client key file if not included in the certificate.<br>Password the key file if needed.
<code>clouddriver.tls.cacertFile</code>|string|none|If provided, verify endpoint certificate with the trust store. Otherwise, the system trust store is used.
<code>dynamicAccountsEnabled</code>|boolean|true|<span class='badge badge-primary'>1.0.39+</span> Enable or disable access to the Dynamic Accounts API.
<code>kubernetes.noProxy</code>|boolean|false|<span class='badge badge-primary'>0.3.1+</span> Ignore the <code>HTTP_PROXY</code>, <code>HTTPS_PROXY</code>, and <code>NO_PROXY</code> environment variables when connecting to any Kubernetes cluster.
<code>kubernetes.reconnectTimeoutMs</code>|integer|5000|How long to wait before reconnecting to Armory Enterprise.
<code>kubernetes.accounts[].context</code>|string|empty|If provided, use the given context of the configured kubeconfig.
<code>kubernetes.accounts[].customResourceDefinitions</code>|[]{kind: <string>}|empty|<span class='badge badge-primary'>0.4.0+</span> List of CustomResourceDefinition to expose to Armory Enterprise. This is not needed if <code>onlyNamespacedResources</code> is left off. The format of <code>kind</code> is <code>Kind.group</code>.
<code>kubernetes.accounts[].customResourceDefinitions.scope</code>|string|Namespaced|<span class='badge badge-primary'>1.0.9+</span> Possible values are `Cluster` and `Namespaced`. The default value if left unconfigured is `Namespaced`.
<code>kubernetes.accounts[].kinds</code>|[]string|empty|Defines which Kubernetes kinds to cache for the Spinnaker UI. If not empty, only kinds in the list are cached. Use only the kind name in singular form and without group name (e.g. <code>deployment</code>, not <code>deployment.apps</code>). This also applies to CRDs.<br>There’s no benefit to caching kinds that don’t display in the Spinnaker UI. The recommended set of kinds to include (per account) is: <code>replicaSet</code>, <code>service</code>, <code>ingress</code>, <code>daemonSet</code>, <code>deployment</code>, <code>pod</code>, <code>statefulSet</code>, <code>job</code>, <code>cronJob</code>.<br><b>Note:</b> Operations are still possible on every kind regardless of the config, and statuses for those operations are not affected. For example, if you need to deploy another kind such as <code>HorizontalPodAutoscaler</code>, and this kind is not defined in this list, the deployment still succeeds.
<code>kubernetes.accounts[].kubeConfigFile</code>|string|none|Path to the kubeconfig file if not using <code>serviceAccount</code>.
<code>kubernetes.accounts[].insecure</code>|boolean|false|Do not verify the TLS certificate of the Kubernetes API server<br>Don’t use without a good reason.
<code>kubernetes.accounts[].metrics</code>|boolean|false|When true, sends pod metrics back to Armory Enterprise every 20s.
<code>kubernetes.accounts[].name</code>|string|none, required|Name of the Kubernetes cluster in Armory Enterprise.
<code>kubernetes.accounts[].namespaces</code>|[]string|empty|<span class='badge badge-primary'>0.4.0+</span> Whitelist of namespaces to monitor.<br>This comes at a greater cost of multiplying the resources by the number of namespaces.
<code>kubernetes.accounts[].noProxy</code>|boolean|false|<span class='badge badge-primary'>0.3.1+</span> Ignore the <code>HTTP_PROXY</code>, <code>HTTPS_PROXY</code>, and <code>NO_PROXY</code> environment variables when connecting to that Kubernetes cluster.
<code>kubernetes.accounts[].oAuthScopes</code>|[]string|empty|List of OAuth scope when authenticating with gcp provider<br><a href='https://cloud.google.com/kubernetes-engine/docs/how-to/cluster-access-for-kubectl#authentication' target='new'>Cluster access for kubectl</a>.
<code>kubernetes.accounts[].omitKinds</code>|[]string|empty|List of kinds not to cache.
<code>kubernetes.accounts[].omitNamespaces</code>|[]string|empty|Blacklist of namespaces <br>This comes at a greater cost of multiplying the resources by the number of namespaces.<br>NOT CURRENTLY IMPLEMENTED
<code>kubernetes.accounts[].onlyNamespacedResources</code>|boolean|false|<span class='badge badge-primary'>0.4.0+</span> If true, the Agent ignores non-namespaced resources; namespaces must be whitelisted with <code>namespaces</code> setting and CRDs with <code>customResourceDefinitons</code>.
<code>kubernetes.accounts[].onlySpinnakerManaged</code>|boolean|false|Only return Armory Enterprise managed resources<br>NOT IMPLEMENTED in the Agent but added to the plugin see <code>kubesvc.runtime.defaults.onlySpinnakerManaged</code>.
<code>kubernetes.accounts[].permissions</code>|list|empty|List of permissions (currently <code>READ</code> or <code>WRITE</code>) with a list of authorized roles. For more information, see <a href='#permissions-format'>Permissions format</a>.
<code>kubernetes.accounts[].maxResumableResourceAgeMs</code>|integer|300000 (5m)|When connecting to Armory Enterprise, the Agent asks Clouddriver for the latest resource version known per resource that is not older than that setting.<br><br>The resource version is used to resume the watch without first doing a list - saving memory and time. There’s no guarantee that the resource version is still known. If not “remembered” by the Kubernetes API server, a <code>list</code>  call is used.  <a href='https://kubernetes.io/docs/reference/using-api/api-concepts/#efficient-detection-of-changes' target='new'>Kubernetes API Concepts</a>
<code>kubernetes.accounts[].serviceAccount</code>|boolean|false|If true and the Agent runs in Kubernetes - use the current service account to call to the current API server. In that mode, you don’t need to provide a kubeconfig file.

<code>kubernetes.accounts[].skipManifestDefaults</code>|boolean|false|By default the Agent sets the latest defaults values on the manifests it applies. If set to true or ServerSideApply is disabled, the Agent sends manifests as is to the Kubernetes API.
<code>kubernetes.accounts[].skipServerSideApply</code>|boolean|false|By default the Agent deploys manifests using ServerSideApply. If set to true, the Agent uses the last-applied kubectl client side annotation. Used for troubleshooting.
<code>kubernetes.retries.enabled</code>|boolean|true|Optional. Enable or disable retries when the Agent makes a failed request to the Kubernetes API server.
<code>kubernetes.retries.maxRetries</code>|integer|3|Optional. The number of times that the Agent will try the same request if it fails.
<code>kubernetes.retries.backOffMs</code>|integer|3000|Optional. How much time (in milliseconds) to wait between retry attempts.
<code>kubernetes.retries.retryAnyError</code>|boolean|false|Optional. If true, Agent will retry when encountering any error from the Kubernetes API server. If false, Agent will only retry if the error contains any item from <code>retryableErrors</code>.
<code>kubernetes.retries.retryableErrors</code>|string|<code>- timeout</code><br><code>- deadline exceeded</code>|Optional. If the error from the Kubernetes API server contains any item from this list, the request will be retried. Requires <code>retryAnyError</code> to be false.
<code>logging.file</code>|string|stdout if not defined|File to save logs to.
<code>logging.format</code>|string|text|Format for the Agent logs. Can be <code>text</code> or <code>json</code>
<code>logging.level</code>|string|<code>INFO</code>|Log level. Can be any of (case insensitive):<br><code>panic</code>, <code>fatal</code> , <code>error</code>, <code>warn</code> (or <code>warning</code>),  <code>info</code>, <code>debug</code>, <code>trace</code>.
<code>pprof.enabled</code>|boolean|false|Enable pprof endpoint. Useful for troubleshooting, slowness, memory leaks, and more!<br><a href='https://github.com/google/pprof/blob/master/doc/README.md' target='new'>pprof README</a>.
<code>pprof.port</code>|integer|6060|Port on which to respond to pprof requests.
<code>prometheus.enabled</code>|boolean|false|Enable Prometheus handler.
<code>prometheus.port</code>|integer|8008|Port to expose Prometheus metrics on. Responds to both <code>/metrics</code> (standard) and <code>/prometheus_metrics</code> (Armory Enterprise default).
<code>server.host</code>|string|localhost|Hostname of the server health check.
<code>server.port</code>|integer|8082|Port of the server health check.
<code>server.ssl.enabled</code>, <code>server.ssl.certFile</code>, <code>server.ssl.keyFile</code>, <code>server.ssl.keyPassword</code>, <code>server.ssl.caCertFile</code>, <code>server.ssl.keyFilePassword</code>, <code>server.ssl.clientAuth</code>|||Various options to control TLS config. Don’t bother, it’s just for the health endpoint.
<code>secrets.vault.*</code>|object|none|<a href='/docs/armory-admin/secrets/secrets-vault/#1-kubernetes-service-account-recommended' target='new'>Vault configuration</a>.
<code>tasks.totalBudget</code>|integer|0|If > 0, limits the number of tasks that can be started. Tasks have different cost. Watches are considered free because they are part of the normal operations of the Agent.
<code>tasks.budgetPerAccount</code>|integer|0|Same as <code>totalBudget</code> but per account. If both settings are provided, they’re both checked.
<code>tasks.queueCheckFrequencyMs</code>|integer|2000|Frequency at which the Agent checks for new tasks to launch. Once launched a task is not stopped until explicitly requested (account unregistered or connection to Armory Enterprise lost).
<code>timeoutSeconds</code>|integer|0|<span class='badge badge-primary'>0.5.12+</span> The maximum length of time to wait before giving up on a server request. A value of zero means no timeout.
